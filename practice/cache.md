将 Redis 用做缓存，有一些情况需要注意。

## 雪崩

大量 key **同一时刻**过期，导致缓存失效，全部从数据库读的现象。

解决办法为，将 key 的过期时间设定成在某个范围内的**随机**数。

## 穿透

大量缓存缓存**未命中**，直接读取数据库的现象。

解决办法为，一方面，考虑**命中频率低**的操作，可以不走缓存，没有意义；另一方面，对于相同的未命中的请求，可以考虑进行**过滤**或特殊处理。

## 参考

[Redis 面试题](https://zhuanlan.zhihu.com/p/54819806)

