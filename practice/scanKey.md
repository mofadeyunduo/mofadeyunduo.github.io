Redis 扫描 key 需要注意性能问题。

## keys 和 scan

简单比较：
- `keys` 简单粗暴，可以匹配需要的 key，然而由于 Redis 是单线程的，会阻塞
- `scan` 语法相对复杂，但是每次只返回部分结果，通过多次调用，不会阻塞，影响服务，scan 的速度一定要比生成 key 的速度快才能得到完整的数据

个人推荐如果有需要扫描 key 的操作，尽量先存到 `set` 里，用 `sscan` 去扫描，而不是通过 `keys` 和 `scan` 的命令，原因是：
`keys` 和 `scan` 是针对全部 key 所在的 hash 进行扫描，存在某个 `set` 里只是对部分的 key 的扫描，数量小了很多，速度更快。